---
title: Setting Up Platform Automation for PCF
owner: PCF Norm
---

This topic describes how to install Platform Automation for PCF.

## <a id='reqs'></a>Requirements

To install and use Platform Automation for PCF you need:

* A running Pivotal Cloud Foundry (PCF) environment
* The following tools installed on your local workstation:
  - User Authorization and Authentication CLI (UAAC)
  - om
  - installer

##<a id='authenticate'></a> Authentication with Platform Automation for PCF

Most of the commands require authentication, which could be supplied by `--auth-file` or `-a` for short.

The format of the authentication file is as follows:
```yaml
opsman_url: domain.name.of.opsman
skip_ssl_validation: true
credentials:
  username:
  password:
  client-id:
  client-secret:
```

If you are using internal authentication, you can choose to provide `username & password` or `client-id & client-secret`

If you are using SAML authentication, you are required to provide `client-id & client-secret`

###<a id='generate'></a> Generate a New Client ID and Client Secret

1. `uaac target https://YOUR_OPSMANAGER/uaa`
1. `uaac token sso get` if using SAML or `uaac token owner get` if using internal auth. Specify the Client ID as `opsman` and leave Client Secret **blank**.
1. Generate a client ID and secret:

```
uaac client add -i
Client ID:  NEW_CLIENT_NAME
New client secret:  DESIRED_PASSWORD
Verify new client secret:  DESIRED_PASSWORD
scope (list):  opsman.admin
authorized grant types (list):  client_credentials
authorities (list):  opsman.admin
access token validity (seconds):  43200
refresh token validity (seconds):  43200
redirect uri (list):
autoapprove (list):
signup redirect url (url):
```

## <a id=''></a>Ops Manager Configuration

### Exporting

Assuming that an Ops Manager has been previous deployed, the configuration can be extracted out for CLI or task consumption.

Running the following command will extract a parameterized configuration.

```
installer staged-director-config --auth-file auth.yml --output-file director.yml
```

The configuration does not extract credentials from Ops Manager.
This is to ensure that credentials are never written to disk.
The credentials need to be provided from an external configuration when invoking [configure-director](reference.html#configure-director).